<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>
      Title
    </title>
    <meta charset='utf-8' />


      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <!-- <link href="css/bootstrap.min.css" rel="stylesheet"> -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">



      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

      <script>
        window.jQuery || document.write('<script src="js/vendor/jquery-1.8.3.min.js"><\/script>')
        var API_KEY = '{{ site.google_api_key }}';
        </script>
      <script type="text/javascript" src="https://maps.google.com/maps/api/js?libraries=places&key=AIzaSyB_LhG8DlRJEqa0TSoBlaY0BE7mw_RvJXo"></script>

      <!-- <script src="lib/modernizr-2.6.2.min.js"></script> -->
      <script src="lib/bootstrap.min.js"></script>
      <script src="lib/jquery.dataTables.min.js"></script>
      <script src="lib/jquery.dataTables.sorting.js"></script>
      <script src="lib/jquery.address.js"></script>
      <script src="lib/dataTables.bootstrap.js"></script>
      <script src="lib/spin.min.js" type="text/javascript"></script>
      <script src="lib/jquery.spin.js" type="text/javascript"></script>
      <script src="lib/ejs_production.js" type="text/javascript"></script>


      <link rel="stylesheet" href="css/custom.css">

    </head>


  <body>

    <nav class="navbar fixed-top navbar-expand navbar-light bg-white container">
      <a class="navbar-brand navicon" href="#">
        Get Involved.
      </a>
      <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mr-auto name">
          </ul>
      </div>
    </nav>


    <div class='container justify-content-center'>
      <div class="about-row row justify-content-center">
        <div class="about-col col-sm-6 text-center">
          <div class="desc1">
            Easily search for your elected representatives using your zipcode.
          </div>
          <div class="">
          </div>
        </div>
      </div>
      <!--search field-->
      <div class="row justify-content-center">
        <div class='input-group  col-sm-6'>
          <input type="text" class="form-control roundCorner desc2" placeholder="Enter your zipcode" id="address" name="address" >
            <span class="input-group-btn">
              <button class="btn btn-dark" type="submit" id="address-search">Search</button>
            </span>
        </div>
      </div>
      <!-- levels-->
      <div class="row justify-content-center">
        <div class='col-sm-6 text-center'>
          <div>
            Levels of Government:
          </div>
          <div>
            <label>
              <input type="checkbox" id="show_local_results" value="Local">Local
            </label>
            <label>
              <input type="checkbox" id="show_county_results" value="County">County
            </label>
            <label>
              <input type="checkbox" id="show_state_results" value="State">State
            </label>
            <label>
              <input type="checkbox" id="show_federal_results" value="Federal">Federal
            </label>
          </div>
        </div>
      </div>

      <!-- note -->
      <div class="row justify-content-center">
        <div class="col-sm-6 alert alert-secondary" role="alert">
          Note: Data comes from the <a target='_blank' href='https://developers.google.com/civic-information/'>Google Civic Information API</a>, which does not have 100% coverage of all representatives. If you notice an issue with the data, please <a target='_blank' href='https://docs.google.com/forms/d/e/1FAIpQLScFpFTOkTpm0YoerLLprY_ySS9PRXLsu27SM01hebHqkefW2Q/viewform'>report it to Google</a>.
        </div>
      </div>


    <!-- rep data -->
      <div class="row justify-content-center">
      <div class='col-sm-12' id="local-container">
        <h3 class='text-center' id="local-name"></h3>
        <div id="local-results" class=" ">
          <div class="row justify-content-center">
            <div class="col-sm-1"></div>
            <div class="col-sm-3">Representative</div>
            <div class="col-sm-3">  Office</div>
            <div class="col-sm-3"> Address</div>
            <div class="col-sm-1">  Links</div>
          </div>
        </div>
      </div>

      <div class='col-sm-12' id="county-container">
        <h3 class='text-center' id="county-name"></h3>
        <div id="county-results" class=" ">
          <div class="row justify-content-center">
            <div class="col-sm-1"></div>
            <div class="col-sm-3">Representative</div>
            <div class="col-sm-3">  Office</div>
            <div class="col-sm-3"> Address</div>
            <div class="col-sm-1">  Links</div>
          </div>
        </div>
      </div>


      <div class='col-sm-12' id='state-container'>
        <h3 class='text-center' id="state-name"></h3>
        <div id="state-results" class=" ">
          <div class="row justify-content-center">
            <div class="col-sm-1"></div>
            <div class="col-sm-3">Representative</div>
            <div class="col-sm-3">  Office</div>
            <div class="col-sm-3"> Address</div>
            <div class="col-sm-1">  Links</div>
          </div>
        </div>
      </div>

      <div class='col-sm-12' id='federal-container'>
        <h3 id='federal-name' class='text-center'>United States Federal Government</h3>
        <div id="federal-results" class=" ">
          <div class="row">
            <div class="col-sm-1"></div>
            <div class="col-sm-3">Representative</div>
            <div class="col-sm-3">  Office</div>
            <div class="col-sm-3"> Address</div>
            <div class="col-sm-1">  Links</div>
          </div>
        </div>
        </div>

      </div>
      <!-- end of rep list -->


    </div>
  <!-- end of entire container -->


    <script id="tableGuts" type="text/EJS">
      <% $.each(people, function(i, info){ %>
          <div class="row justify-content-center rep-data">
              <div class="col-sm-1">
                  <% if (info.person.photoUrl) { %>
                      <img class="img-rounded headshot" src="<%= info.person.photoUrl %>" alt="<%= info.person.name %>" title="<%= info.person.name %>" />
                  <% } else { %>
                      <img class="img-rounded headshot" src="images/blank-person.jpg" alt="<%= info.person.name %>" title="<%= info.person.name %>" />
                  <% } %>
              </div>
              <div class="col-sm-3">
                  <%= info.person.name %> <%= formatParty(info.person.party) %>
              </div>
              <div class="col-sm-3"><%= info.office.name %>
              </div>
              <div class="col-sm-3">
                  <% if (info.address) { %>
                      <% $.each(info.address, function(i, addr){ %>
                          <p>
                          <%= toTitleCase(addr.line1) %><br />
                          <% if (addr.line2) { %>
                              <%= toTitleCase(addr.line2) %><br />
                          <% } %>
                          <% if (addr.line3) { %>
                              <%= toTitleCase(addr.line3) %><br />
                          <% } %>
                          <%= toTitleCase(addr.city) %>, <%= addr.state.toUpperCase() %> <%= addr.zip %>
                          </p>
                      <% }) %>
                  <% } %>
              </div>
              <div class="col-sm-1">
                  <% if (info.channels || info.urls){ %>
                      <span class='visible-xs-inline visible-sm-inline'>
                          <% if (info.channels){ %>
                          <% $.each(info.channels, function(i, channel){ %>
                              <a href="<%= channel.link %>" target="_blank"><i class="fa fa-fw fa-<%= channel.icon %>"> </i></a>
                          <% }) %>
                          <% } %>
                          <% if (info.urls){ %>
                              <% $.each(info.urls, function(i, url){ %>
                                  <a href="<%= url %>" target="_blank"><i class="fa fa-fw fa-globe"> </i></a>
                              <% }) %>
                          <% } %>
                      </span>
                  <% } %>
              </div>
          </div>
      <% }) %>
  </script>

  <script src="js/lookup_tool.js"></script>

  <script type='text/javascript'>
          //<![CDATA[

            $(function() {
              $("#address").val(convertToPlainString($.address.parameter('address')));

              if ($("#address").val())
                addressSearch();

              $('#address-search').click(function(){
                addressSearch();
              });

              var results_level = $.address.parameter('results_level');
              if (results_level == undefined)
                results_level = ['local', 'county', 'state', 'federal'];

              // set levels of government checkboxes
              if (results_level.indexOf("local") >= 0)
                $('#show_local_results').prop('checked', true);
              if (results_level.indexOf("county")  >= 0)
                $('#show_county_results').prop('checked', true);
              if (results_level.indexOf("state")  >= 0)
                $('#show_state_results').prop('checked', true);
              if (results_level.indexOf("federal")  >= 0)
                $('#show_federal_results').prop('checked', true);

              $("#results-nav a").click(function(e) {
                e.preventDefault();
                var scroll_to = $($("#" + e.target.id).attr('href'));
                $('html, body').animate({
                    scrollTop: scroll_to.offset().top
                }, 1000);
              });

              // $('#find-me').click(function(){
              //   findMe();
              //   return false;
              // });

              $(":text").keydown(function(e){
                  var key =  e.keyCode ? e.keyCode : e.which;
                  if(key === 13) {
                      $('#address-search').click();
                      return false;
                  }
              });
            });
          //]]>
        </script>













      </div>
    </div>


    <!-- <div class="container-fluid">
      <div class="row" id="footer">
        <div class='col-md-10 col-md-offset-1'>
          <p class='text-center small'>
                <br /><br />
                Built by <a href='http://datamade.us' target="_blank">DataMade</a> and the <a href='http://participatorybudgeting.org/'>Participatory Budgeting Project</a> |
                Powered by the <a target='_blank' href='https://developers.google.com/civic-information/'>Google Civic Information API</a>
          </p>
        </div>
      </div>
    </div> -->



  </body>

</html>
